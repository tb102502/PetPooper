--[[
    FIXED ItemConfig.lua - Complete with MiningSystem Data
    Place in: ReplicatedStorage/ItemConfig.lua
    
    FIXES:
    ‚úÖ Added missing MiningSystem.ores data
    ‚úÖ Added missing MiningSystem.tools data  
    ‚úÖ All shop items properly formatted
    ‚úÖ Rarity system integrated for farming
    ‚úÖ Complete item catalog with proper categories
    ‚úÖ Seed-to-crop mapping fixed
]]

local ItemConfig = {}

-- ========== RARITY SYSTEM ==========
ItemConfig.RaritySystem = {
	common    = { name = "Common",    color = Color3.fromRGB(255,255,255), sizeMultiplier = 1.0, valueMultiplier = 1.0, dropChance = 0.5, effects = {}, tier = 1 },
	uncommon  = { name = "Uncommon",  color = Color3.fromRGB(0,255,0),   sizeMultiplier = 1.1, valueMultiplier = 1.2, dropChance = 0.25, effects = {"sparkle"}, tier = 2 },
	rare      = { name = "Rare",      color = Color3.fromRGB(255,215,0), sizeMultiplier = 1.2, valueMultiplier = 1.5, dropChance = 0.07, effects = {"golden_shine"}, tier = 3 },
	epic      = { name = "Epic",      color = Color3.fromRGB(128,0,128), sizeMultiplier = 1.8, valueMultiplier = 2.0, dropChance = 0.025, effects = {"purple_aura"}, tier = 4 },
	legendary = { name = "Legendary", color = Color3.fromRGB(255,100,100), sizeMultiplier = 2.0, valueMultiplier = 3.0, dropChance = 0.005, effects = {"legendary_glow"}, tier = 5 },
}

-- ========== MINING SYSTEM DATA ==========
ItemConfig.MiningSystem = {}

-- Mining Ores
ItemConfig.MiningSystem.ores = {
	copper_ore = {
		id = "copper_ore",
		name = "Copper Ore",
		description = "Basic copper ore found in shallow caves.",
		color = Color3.fromRGB(184, 115, 51),
		hardness = 3,
		sellValue = 25,
		sellCurrency = "coins",
		xpReward = 15,
		respawnTime = 60, -- 1 minute
		requiredLevel = 1,
		rarity = "common",
		icon = "üü§"
	},

	bronze_ore = {
		id = "bronze_ore", 
		name = "Bronze Ore",
		description = "Stronger bronze ore with metallic properties.",
		color = Color3.fromRGB(139, 90, 43),
		hardness = 4,
		sellValue = 40,
		sellCurrency = "coins",
		xpReward = 25,
		respawnTime = 90, -- 1.5 minutes
		requiredLevel = 2,
		rarity = "common",
		icon = "üü´"
	},

	silver_ore = {
		id = "silver_ore",
		name = "Silver Ore", 
		description = "Precious silver ore with high value.",
		color = Color3.fromRGB(192, 192, 192),
		hardness = 6,
		sellValue = 75,
		sellCurrency = "coins",
		xpReward = 40,
		respawnTime = 120, -- 2 minutes
		requiredLevel = 3,
		rarity = "uncommon",
		icon = "‚ö™"
	},

	gold_ore = {
		id = "gold_ore",
		name = "Gold Ore",
		description = "Valuable gold ore found in deep caverns.",
		color = Color3.fromRGB(255, 215, 0),
		hardness = 8,
		sellValue = 150,
		sellCurrency = "coins", 
		xpReward = 60,
		respawnTime = 180, -- 3 minutes
		requiredLevel = 5,
		rarity = "rare",
		icon = "üü°"
	},

	platinum_ore = {
		id = "platinum_ore",
		name = "Platinum Ore",
		description = "Extremely rare platinum ore with exceptional value.",
		color = Color3.fromRGB(132, 135, 137),
		hardness = 12,
		sellValue = 300,
		sellCurrency = "coins",
		xpReward = 100,
		respawnTime = 300, -- 5 minutes
		requiredLevel = 7,
		rarity = "epic",
		icon = "‚ö´"
	},

	obsidian_ore = {
		id = "obsidian_ore",
		name = "Obsidian Ore",
		description = "Mystical obsidian ore from the deepest caves.",
		color = Color3.fromRGB(28, 28, 28),
		hardness = 15,
		sellValue = 100,
		sellCurrency = "farmTokens",
		xpReward = 150,
		respawnTime = 450, -- 7.5 minutes
		requiredLevel = 10,
		rarity = "legendary",
		icon = "‚¨õ"
	}
}

-- Mining Tools
ItemConfig.MiningSystem.tools = {
	wooden_pickaxe = {
		id = "wooden_pickaxe",
		name = "Wooden Pickaxe",
		description = "Basic wooden pickaxe for beginners.",
		speed = 1.0,
		durability = 50,
		canMine = {"copper_ore"},
		requiredLevel = 1,
		icon = "ü™ì"
	},

	basic_pickaxe = {
		id = "basic_pickaxe", 
		name = "Basic Pickaxe",
		description = "Essential tool for mining copper and bronze.",
		speed = 1.2,
		durability = 100,
		canMine = {"copper_ore", "bronze_ore"},
		requiredLevel = 1,
		icon = "‚õèÔ∏è"
	},

	stone_pickaxe = {
		id = "stone_pickaxe",
		name = "Stone Pickaxe", 
		description = "Improved pickaxe for mining harder ores.",
		speed = 1.5,
		durability = 150,
		canMine = {"copper_ore", "bronze_ore", "silver_ore"},
		requiredLevel = 2,
		icon = "ü™®"
	},

	iron_pickaxe = {
		id = "iron_pickaxe",
		name = "Iron Pickaxe",
		description = "Professional grade pickaxe for serious miners.",
		speed = 2.0,
		durability = 250,
		canMine = {"copper_ore", "bronze_ore", "silver_ore", "gold_ore"},
		requiredLevel = 4,
		icon = "‚öíÔ∏è"
	},

	diamond_pickaxe = {
		id = "diamond_pickaxe",
		name = "Diamond Pickaxe",
		description = "Premium pickaxe for the most valuable ores.",
		speed = 3.0,
		durability = 500,
		canMine = {"copper_ore", "bronze_ore", "silver_ore", "gold_ore", "platinum_ore"},
		requiredLevel = 6,
		icon = "üíé"
	},

	obsidian_pickaxe = {
		id = "obsidian_pickaxe",
		name = "Obsidian Pickaxe",
		description = "Legendary pickaxe capable of mining anything.",
		speed = 4.0,
		durability = 1000,
		canMine = {"copper_ore", "bronze_ore", "silver_ore", "gold_ore", "platinum_ore", "obsidian_ore"},
		requiredLevel = 8,
		icon = "‚¨õ"
	}
}

-- ========== CROP DATA ==========
ItemConfig.Crops = {
	carrot = { 
		id = "carrot", name = "ü•ï Carrot", type = "crop", category = "crops", 
		description = "Fresh orange carrot.", sellValue = 15, sellCurrency = "coins", 
		feedValue = 1, cropPoints = 1, icon = "ü•ï", rarity = "common" 
	},
	corn = { 
		id = "corn", name = "üåΩ Corn", type = "crop", category = "crops", 
		description = "Sweet yellow corn.", sellValue = 25, sellCurrency = "coins", 
		feedValue = 2, cropPoints = 2, icon = "üåΩ", rarity = "common" 
	},
	strawberry = { 
		id = "strawberry", name = "üçì Strawberry", type = "crop", category = "crops", 
		description = "Sweet red strawberry.", sellValue = 40, sellCurrency = "coins", 
		feedValue = 3, cropPoints = 3, icon = "üçì", rarity = "uncommon" 
	},
	golden_fruit = { 
		id = "golden_fruit", name = "‚ú® Golden Fruit", type = "crop", category = "crops", 
		description = "Magical golden fruit.", sellValue = 100, sellCurrency = "coins", 
		feedValue = 10, cropPoints = 10, icon = "‚ú®", rarity = "legendary" 
	},
	wheat = { 
		id = "wheat", name = "üåæ Wheat", type = "crop", category = "crops", 
		description = "Golden wheat grain.", sellValue = 20, sellCurrency = "coins", 
		feedValue = 2, cropPoints = 2, icon = "üåæ", rarity = "common" 
	},
	potato = { 
		id = "potato", name = "ü•î Potato", type = "crop", category = "crops", 
		description = "Hearty potato.", sellValue = 18, sellCurrency = "coins", 
		feedValue = 2, cropPoints = 2, icon = "ü•î", rarity = "common" 
	},
	tomato = { 
		id = "tomato", name = "üçÖ Tomato", type = "crop", category = "crops", 
		description = "Juicy red tomato.", sellValue = 30, sellCurrency = "coins", 
		feedValue = 3, cropPoints = 3, icon = "üçÖ", rarity = "uncommon" 
	},
	cabbage = { 
		id = "cabbage", name = "ü•¨ Cabbage", type = "crop", category = "crops", 
		description = "Fresh leafy cabbage.", sellValue = 22, sellCurrency = "coins", 
		feedValue = 3, cropPoints = 3, icon = "ü•¨", rarity = "common" 
	},
	radish = { 
		id = "radish", name = "üå∂Ô∏è Radish", type = "crop", category = "crops", 
		description = "Spicy radish.", sellValue = 12, sellCurrency = "coins", 
		feedValue = 1, cropPoints = 1, icon = "üå∂Ô∏è", rarity = "common" 
	},
	broccoli = { 
		id = "broccoli", name = "ü•¶ Broccoli", type = "crop", category = "crops", 
		description = "Nutritious green broccoli.", sellValue = 35, sellCurrency = "coins", 
		feedValue = 4, cropPoints = 4, icon = "ü•¶", rarity = "uncommon" 
	},
	glorious_sunflower = { 
		id = "glorious_sunflower", name = "üåª Glorious Sunflower", type = "crop", category = "crops", 
		description = "üèÜ LEGENDARY PREMIUM CROP üèÜ", sellValue = 500, sellCurrency = "farmTokens", 
		feedValue = 25, cropPoints = 25, icon = "üåª", rarity = "legendary" 
	}
}

-- ========== COMPLETE SHOP ITEMS ==========
ItemConfig.ShopItems = {
	-- ========== SEEDS CATEGORY ==========
	carrot_seeds = {
		id = "carrot_seeds",
		name = "ü•ï Carrot Seeds",
		description = "Fast-growing orange carrots! Perfect for beginners.\n\n‚è±Ô∏è Grow Time: 2 minutes\nüí∞ Sell Value: 15 coins each\nüê∑ Pig Value: 1 crop point",
		price = 25,
		currency = "coins",
		category = "seeds",
		icon = "ü•ï",
		maxQuantity = 50,
		type = "seed",
		farmingData = {
			growTime = 120, -- 2 minutes
			yieldAmount = 2,
			resultCropId = "carrot",
			stages = {"planted", "sprouting", "growing", "ready"},
			rarityChances = {common = 0.6, uncommon = 0.3, rare = 0.08, epic = 0.02, legendary = 0.001}
		}
	},

	corn_seeds = {
		id = "corn_seeds",
		name = "üåΩ Corn Seeds",
		description = "Sweet corn that pigs love! Higher yield than carrots.\n\n‚è±Ô∏è Grow Time: 3 minutes\nüí∞ Sell Value: 25 coins each\nüê∑ Pig Value: 2 crop points",
		price = 50,
		currency = "coins",
		category = "seeds",
		icon = "üåΩ",
		maxQuantity = 50,
		type = "seed",
		farmingData = {
			growTime = 180, -- 3 minutes
			yieldAmount = 3,
			resultCropId = "corn",
			stages = {"planted", "sprouting", "growing", "ready"},
			rarityChances = {common = 0.5, uncommon = 0.35, rare = 0.12, epic = 0.03, legendary = 0.001}
		}
	},

	strawberry_seeds = {
		id = "strawberry_seeds",
		name = "üçì Strawberry Seeds",
		description = "Delicious berries with premium value! Worth the wait.\n\n‚è±Ô∏è Grow Time: 4 minutes\nüí∞ Sell Value: 40 coins each\nüê∑ Pig Value: 3 crop points",
		price = 100,
		currency = "coins",
		category = "seeds",
		icon = "üçì",
		maxQuantity = 50,
		type = "seed",
		farmingData = {
			growTime = 240, -- 4 minutes
			yieldAmount = 2,
			resultCropId = "strawberry",
			stages = {"planted", "sprouting", "growing", "ready"},
			rarityChances = {common = 0.4, uncommon = 0.4, rare = 0.15, epic = 0.05, legendary = 0.002}
		}
	},

	wheat_seeds = {
		id = "wheat_seeds",
		name = "üåæ Wheat Seeds",
		description = "Hardy wheat that grows in all conditions. Perfect for making bread!\n\n‚è±Ô∏è Grow Time: 2.5 minutes\nüí∞ Sell Value: 20 coins each\nüê∑ Pig Value: 2 crop points",
		price = 30,
		currency = "coins",
		category = "seeds",
		icon = "üåæ",
		maxQuantity = 100,
		type = "seed",
		farmingData = {
			growTime = 150, -- 2.5 minutes
			yieldAmount = 3,
			resultCropId = "wheat",
			stages = {"planted", "sprouting", "growing", "ready"},
			rarityChances = {common = 0.55, uncommon = 0.3, rare = 0.12, epic = 0.03, legendary = 0.001}
		}
	},

	potato_seeds = {
		id = "potato_seeds",
		name = "ü•î Potato Seeds",
		description = "Versatile potatoes that grow underground. Great for cooking!\n\n‚è±Ô∏è Grow Time: 3 minutes\nüí∞ Sell Value: 18 coins each\nüê∑ Pig Value: 2 crop points",
		price = 40,
		currency = "coins",
		category = "seeds",
		icon = "ü•î",
		maxQuantity = 100,
		type = "seed",
		farmingData = {
			growTime = 180, -- 3 minutes
			yieldAmount = 4,
			resultCropId = "potato",
			stages = {"planted", "sprouting", "growing", "ready"},
			rarityChances = {common = 0.6, uncommon = 0.25, rare = 0.12, epic = 0.03, legendary = 0.001}
		}
	},

	cabbage_seeds = {
		id = "cabbage_seeds",
		name = "ü•¨ Cabbage Seeds",
		description = "Leafy green cabbages packed with nutrients. Animals love them!\n\n‚è±Ô∏è Grow Time: 3.5 minutes\nüí∞ Sell Value: 22 coins each\nüê∑ Pig Value: 3 crop points",
		price = 35,
		currency = "coins",
		category = "seeds",
		icon = "ü•¨",
		maxQuantity = 100,
		type = "seed",
		farmingData = {
			growTime = 210, -- 3.5 minutes
			yieldAmount = 2,
			resultCropId = "cabbage",
			stages = {"planted", "sprouting", "growing", "ready"},
			rarityChances = {common = 0.5, uncommon = 0.35, rare = 0.12, epic = 0.03, legendary = 0.001}
		}
	},

	radish_seeds = {
		id = "radish_seeds",
		name = "üå∂Ô∏è Radish Seeds",
		description = "Quick-growing spicy radishes. Ready in no time!\n\n‚è±Ô∏è Grow Time: 1.5 minutes\nüí∞ Sell Value: 12 coins each\nüê∑ Pig Value: 1 crop point",
		price = 25,
		currency = "coins",
		category = "seeds",
		icon = "üå∂Ô∏è",
		maxQuantity = 100,
		type = "seed",
		farmingData = {
			growTime = 90, -- 1.5 minutes
			yieldAmount = 2,
			resultCropId = "radish",
			stages = {"planted", "sprouting", "growing", "ready"},
			rarityChances = {common = 0.7, uncommon = 0.2, rare = 0.08, epic = 0.02, legendary = 0.001}
		}
	},

	broccoli_seeds = {
		id = "broccoli_seeds",
		name = "ü•¶ Broccoli Seeds",
		description = "Nutritious green broccoli. Takes time but worth the wait!\n\n‚è±Ô∏è Grow Time: 4.5 minutes\nüí∞ Sell Value: 35 coins each\nüê∑ Pig Value: 4 crop points",
		price = 45,
		currency = "coins",
		category = "seeds",
		icon = "ü•¶",
		maxQuantity = 100,
		type = "seed",
		farmingData = {
			growTime = 270, -- 4.5 minutes
			yieldAmount = 2,
			resultCropId = "broccoli",
			stages = {"planted", "sprouting", "growing", "ready"},
			rarityChances = {common = 0.4, uncommon = 0.4, rare = 0.15, epic = 0.05, legendary = 0.002}
		}
	},

	tomato_seeds = {
		id = "tomato_seeds",
		name = "üçÖ Tomato Seeds",
		description = "Juicy red tomatoes perfect for cooking. High value crop!\n\n‚è±Ô∏è Grow Time: 4 minutes\nüí∞ Sell Value: 30 coins each\nüê∑ Pig Value: 3 crop points",
		price = 55,
		currency = "coins",
		category = "seeds",
		icon = "üçÖ",
		maxQuantity = 100,
		type = "seed",
		farmingData = {
			growTime = 240, -- 4 minutes
			yieldAmount = 3,
			resultCropId = "tomato",
			stages = {"planted", "sprouting", "growing", "ready"},
			rarityChances = {common = 0.45, uncommon = 0.35, rare = 0.15, epic = 0.05, legendary = 0.002}
		}
	},

	golden_seeds = {
		id = "golden_seeds",
		name = "‚ú® Golden Seeds",
		description = "Magical seeds that produce golden fruit! Premium crop.\n\n‚è±Ô∏è Grow Time: 6 minutes\nüí∞ Sell Value: 100 coins each\nüê∑ Pig Value: 10 crop points",
		price = 50,
		currency = "farmTokens",
		category = "seeds",
		icon = "‚ú®",
		maxQuantity = 25,
		type = "seed",
		farmingData = {
			growTime = 360, -- 6 minutes
			yieldAmount = 1,
			resultCropId = "golden_fruit",
			stages = {"planted", "sprouting", "growing", "ready"},
			rarityChances = {common = 0.1, uncommon = 0.3, rare = 0.4, epic = 0.19, legendary = 0.01}
		}
	},

	glorious_sunflower_seeds = {
		id = "glorious_sunflower_seeds",
		name = "üåª Glorious Sunflower Seeds",
		description = "üèÜ PREMIUM LEGENDARY SEED üèÜ\nThe rarest and most beautiful crop! Massive size with brilliant glow!\n\n‚è±Ô∏è Grow Time: 8 minutes\nüí∞ Sell Value: 500 Farm Tokens\nüê∑ Pig Value: 25 crop points",
		price = 150,
		currency = "farmTokens",
		category = "seeds",
		icon = "üåª",
		maxQuantity = 10,
		type = "seed",
		farmingData = {
			growTime = 480, -- 8 minutes
			yieldAmount = 1,
			resultCropId = "glorious_sunflower",
			stages = {"planted", "sprouting", "growing", "flowering", "glorious"},
			rarityChances = {common = 0.0, uncommon = 0.1, rare = 0.3, epic = 0.4, legendary = 0.2},
			alwaysHighRarity = true
		}
	},

	-- ========== FARM CATEGORY ==========
	farm_plot_starter = {
		id = "farm_plot_starter",
		name = "üåæ Your First Farm Plot",
		description = "Purchase your first farming plot! Includes free starter seeds.\n\nüéÅ Includes:\n‚Ä¢ 5x Carrot Seeds\n‚Ä¢ 3x Corn Seeds\n‚Ä¢ Access to farming system",
		price = 100,
		currency = "coins",
		category = "farm",
		icon = "üåæ",
		maxQuantity = 1,
		type = "farmPlot",
		effects = {
			enableFarming = true,
			starterSeeds = {
				carrot_seeds = 5,
				corn_seeds = 3
			}
		}
	},

	farm_plot_expansion = {
		id = "farm_plot_expansion",
		name = "üöú Farm Plot Expansion",
		description = "Add more farming space! Each expansion gives you another farm plot with 9 planting spots.\n\nüìà Benefits:\n‚Ä¢ 9 more planting spots\n‚Ä¢ Increase farming capacity\n‚Ä¢ Supports up to 10 total plots",
		price = 500,
		currency = "coins",
		category = "farm",
		icon = "üöú",
		maxQuantity = 9,
		type = "farmPlot",
		requiresPurchase = "farm_plot_starter"
	},

	-- ========== DEFENSE CATEGORY ==========
	basic_chicken = {
		id = "basic_chicken",
		name = "üêî Basic Chicken",
		description = "General purpose pest control. Eliminates aphids and lays eggs for steady income.\n\nüõ°Ô∏è Protects Against:\n‚Ä¢ Aphids\n‚Ä¢ Small pests\n\nüí∞ Produces:\n‚Ä¢ Eggs every 4 minutes\n‚Ä¢ 5 coins per egg",
		price = 150,
		currency = "coins",
		category = "defense",
		icon = "üêî",
		maxQuantity = 20,
		type = "chicken",
		requiresPurchase = "farm_plot_starter"
	},

	guinea_fowl = {
		id = "guinea_fowl",
		name = "ü¶É Guinea Fowl",
		description = "Anti-locust specialist. Provides early warning system and superior pest elimination.\n\nüõ°Ô∏è Protects Against:\n‚Ä¢ Locusts (specialist)\n‚Ä¢ Aphids\n‚Ä¢ Provides pest alerts\n\nüí∞ Produces:\n‚Ä¢ Premium eggs every 6 minutes\n‚Ä¢ 8 coins per egg",
		price = 300,
		currency = "coins",
		category = "defense",
		icon = "ü¶É",
		maxQuantity = 10,
		type = "chicken",
		requiresPurchase = "basic_chicken"
	},

	rooster = {
		id = "rooster",
		name = "üêì Rooster",
		description = "Flock leader that boosts all nearby chickens and reduces pest spawn rates.\n\nüõ°Ô∏è Special Abilities:\n‚Ä¢ Boosts other chickens by 50%\n‚Ä¢ Reduces pest spawns by 20%\n‚Ä¢ Territory protection\n\nüí∞ Produces:\n‚Ä¢ Premium eggs every 8 minutes\n‚Ä¢ 12 coins per egg",
		price = 500,
		currency = "coins",
		category = "defense",
		icon = "üêì",
		maxQuantity = 3,
		type = "chicken",
		requiresPurchase = "guinea_fowl"
	},

	organic_pesticide = {
		id = "organic_pesticide",
		name = "üß™ Organic Pesticide",
		description = "Manually eliminate pests from crops. One-time use, affects 3x3 area around target crop.\n\nüí™ Effectiveness:\n‚Ä¢ Eliminates all pest types\n‚Ä¢ 3x3 area of effect\n‚Ä¢ Instant results\n‚Ä¢ Eco-friendly formula",
		price = 50,
		currency = "coins",
		category = "defense",
		icon = "üß™",
		maxQuantity = 20,
		type = "tool"
	},

	pest_detector = {
		id = "pest_detector",
		name = "üì° Pest Detector",
		description = "Early warning system that alerts you to pest infestations before they cause major damage.\n\nüîç Features:\n‚Ä¢ Early pest detection\n‚Ä¢ 20 stud detection range\n‚Ä¢ Automatic alerts\n‚Ä¢ One-time purchase",
		price = 200,
		currency = "coins",
		category = "defense",
		icon = "üì°",
		maxQuantity = 1,
		type = "upgrade"
	},

	super_pesticide = {
		id = "super_pesticide",
		name = "üíâ Super Pesticide",
		description = "üèÜ PREMIUM PEST CONTROL üèÜ\nIndustrial-grade pesticide that eliminates ALL pests from your entire farm instantly!\n\nüí™ Ultimate Power:\n‚Ä¢ Entire farm coverage\n‚Ä¢ All pest types eliminated\n‚Ä¢ Instant effect\n‚Ä¢ Premium formula",
		price = 25,
		currency = "farmTokens",
		category = "defense",
		icon = "üíâ",
		maxQuantity = 5,
		type = "tool",
		requiresPurchase = "organic_pesticide"
	},
	-- Farm Plot Protection - Individual Roofs
	plot_roof_basic = {
		id = "plot_roof_basic",
		name = "üè† Basic Plot Roof",
		description = "Protects ONE farm plot from UFO attacks and weather damage.\n\nüõ°Ô∏è Protection:\n‚Ä¢ Blocks UFO beam damage\n‚Ä¢ Protects against weather\n‚Ä¢ Covers 1 farm plot\n‚Ä¢ Durable construction",
		price = 200,
		currency = "coins",
		category = "defense",
		icon = "üè†",
		maxQuantity = 10, -- Can buy one for each plot
		type = "protection",
		effects = {
			coverage = 1,
			ufoProtection = true,
			weatherProtection = true,
			plotSpecific = true
		}
	},

	plot_roof_reinforced = {
		id = "plot_roof_reinforced",
		name = "üèõÔ∏è Reinforced Plot Roof",
		description = "Enhanced protection for ONE farm plot with 99% damage reduction.\n\nüõ°Ô∏è Enhanced Protection:\n‚Ä¢ 99% UFO damage reduction\n‚Ä¢ Weather immunity\n‚Ä¢ Self-repairing materials\n‚Ä¢ Covers 1 farm plot",
		price = 500,
		currency = "coins",
		category = "defense",
		icon = "üèõÔ∏è",
		maxQuantity = 10,
		type = "protection",
		requiresPurchase = "plot_roof_basic",
		effects = {
			coverage = 1,
			ufoProtection = true,
			weatherProtection = true,
			damageReduction = 0.99,
			selfRepairing = true,
			plotSpecific = true
		}
	},

	-- Area Protection - Multiple Plots
	area_dome_small = {
		id = "area_dome_small",
		name = "üîò Small Protection Dome",
		description = "Energy dome that protects up to 3 farm plots from all attacks.\n\nüõ°Ô∏è Area Protection:\n‚Ä¢ Protects 3 adjacent plots\n‚Ä¢ 100% UFO immunity\n‚Ä¢ Weather protection\n‚Ä¢ Pest deterrent field",
		price = 1000,
		currency = "coins",
		category = "defense",
		icon = "üîò",
		maxQuantity = 3, -- Can have multiple small domes
		type = "protection",
		requiresPurchase = "plot_roof_reinforced",
		effects = {
			coverage = 3,
			ufoProtection = true,
			weatherProtection = true,
			pestDeterrent = true,
			areaEffect = true
		}
	},

	area_dome_large = {
		id = "area_dome_large",
		name = "üîµ Large Protection Dome", 
		description = "Advanced energy dome protecting up to 6 farm plots with enhanced features.\n\nüõ°Ô∏è Large Area Protection:\n‚Ä¢ Protects 6 adjacent plots\n‚Ä¢ Complete immunity\n‚Ä¢ Crop growth boost +10%\n‚Ä¢ Auto-pest elimination",
		price = 2500,
		currency = "coins",
		category = "defense",
		icon = "üîµ",
		maxQuantity = 2,
		type = "protection",
		requiresPurchase = "area_dome_small",
		effects = {
			coverage = 6,
			ufoProtection = true,
			weatherProtection = true,
			pestDeterrent = true,
			growthBoost = 0.1,
			autoPestElimination = true,
			areaEffect = true
		}
	},

	-- Ultimate Protection (Already exists as mega_dome, but let's enhance it)
	mega_dome_enhanced = {
		id = "mega_dome",
		name = "üõ°Ô∏è Mega Protection Dome",
		description = "üèÜ ULTIMATE PROTECTION üèÜ\nDome covers ALL your farm plots and blocks UFO attacks completely!\n\nüõ°Ô∏è Ultimate Defense:\n‚Ä¢ Covers all farm plots\n‚Ä¢ 100% UFO protection\n‚Ä¢ Weather immunity\n‚Ä¢ +25% crop growth\n‚Ä¢ Auto-harvest alerts\n‚Ä¢ Pest elimination field",
		price = 100,
		currency = "farmTokens",
		category = "defense", -- Changed from premium to defense
		icon = "üõ°Ô∏è",
		maxQuantity = 1,
		type = "protection",
		requiresPurchase = "area_dome_large",
		effects = {
			coverage = 999, -- Covers all plots
			ufoProtection = true,
			weatherProtection = true,
			pestDeterrent = true,
			growthBoost = 0.25,
			autoHarvestAlerts = true,
			ultimateProtection = true
		}
	},

	-- Weather Protection Variants
	weather_shield_basic = {
		id = "weather_shield_basic",
		name = "‚òî Basic Weather Shield",
		description = "Protects crops from rain and wind damage on one plot.\n\nüå¶Ô∏è Weather Protection:\n‚Ä¢ Rain damage immunity\n‚Ä¢ Wind protection\n‚Ä¢ Covers 1 plot\n‚Ä¢ Basic material",
		price = 150,
		currency = "coins",
		category = "defense",
		icon = "‚òî",
		maxQuantity = 10,
		type = "protection",
		effects = {
			coverage = 1,
			weatherProtection = true,
			rainProtection = true,
			windProtection = true
		}
	},

	weather_shield_advanced = {
		id = "weather_shield_advanced", 
		name = "üå™Ô∏è Advanced Weather Shield",
		description = "Complete weather immunity with growth bonuses for one plot.\n\nüå¶Ô∏è Advanced Protection:\n‚Ä¢ All weather immunity\n‚Ä¢ +15% growth speed\n‚Ä¢ Temperature regulation\n‚Ä¢ UV enhancement",
		price = 400,
		currency = "coins",
		category = "defense",
		icon = "üå™Ô∏è",
		maxQuantity = 10,
		type = "protection",
		requiresPurchase = "weather_shield_basic",
		effects = {
			coverage = 1,
			weatherProtection = true,
			growthBoost = 0.15,
			temperatureControl = true,
			uvEnhancement = true
		}
	},

	-- Pest Deterrent Systems
	pest_barrier_electronic = {
		id = "pest_barrier_electronic",
		name = "üì° Electronic Pest Barrier",
		description = "High-tech barrier that repels pests from one farm plot automatically.\n\nüî¨ Electronic Defense:\n‚Ä¢ Ultrasonic pest repelling\n‚Ä¢ 90% pest reduction\n‚Ä¢ Self-powered system\n‚Ä¢ Covers 1 plot",
		price = 300,
		currency = "coins",
		category = "defense", 
		icon = "üì°",
		maxQuantity = 10,
		type = "protection",
		requiresPurchase = "pest_detector",
		effects = {
			coverage = 1,
			pestDeterrent = true,
			pestReduction = 0.9,
			electronic = true,
			selfPowered = true
		}
	},

	pest_barrier_bio = {
		id = "pest_barrier_bio",
		name = "üåø Bio Pest Barrier",
		description = "Natural plant-based pest deterrent system using companion planting.\n\nüå± Biological Defense:\n‚Ä¢ Natural pest repelling\n‚Ä¢ Eco-friendly solution\n‚Ä¢ Soil enhancement\n‚Ä¢ Plant health boost +10%",
		price = 250,
		currency = "coins",
		category = "defense",
		icon = "üåø", 
		maxQuantity = 10,
		type = "protection",
		effects = {
			coverage = 1,
			pestDeterrent = true,
			pestReduction = 0.8,
			biological = true,
			soilEnhancement = true,
			healthBoost = 0.1
		}
	},

	-- Advanced Defense Systems
	defense_turret_auto = {
		id = "defense_turret_auto",
		name = "üöÄ Auto-Defense Turret",
		description = "üèÜ PREMIUM DEFENSE üèÜ\nAutomated turret system that eliminates UFOs and pests automatically!\n\nüöÄ Ultimate Defense:\n‚Ä¢ Auto-targets UFOs\n‚Ä¢ Eliminates pests on sight\n‚Ä¢ 360¬∞ protection coverage\n‚Ä¢ Self-repairing system",
		price = 150,
		currency = "farmTokens",
		category = "defense",
		icon = "üöÄ",
		maxQuantity = 3,
		type = "protection",
		requiresPurchase = "mega_dome",
		effects = {
			coverage = 5, -- Covers 5 plots in radius
			ufoProtection = true,
			pestDeterrent = true,
			autoTargeting = true,
			selfRepairing = true,
			ultimateDefense = true
		}
	},

	force_field_generator = {
		id = "force_field_generator",
		name = "‚ö° Force Field Generator",
		description = "üèÜ LEGENDARY DEFENSE üèÜ\nCreates an impenetrable energy field around your entire farm!\n\n‚ö° Force Field Power:\n‚Ä¢ Blocks ALL damage\n‚Ä¢ Energy barrier visible\n‚Ä¢ Prevents all attacks\n‚Ä¢ Legendary protection",
		price = 200,
		currency = "farmTokens",
		category = "defense",
		icon = "‚ö°",
		maxQuantity = 1,
		type = "protection",
		requiresPurchase = "defense_turret_auto",
		effects = {
			coverage = 999,
			ufoProtection = true,
			weatherProtection = true,
			pestDeterrent = true,
			forceField = true,
			legendary = true,
			absoluteProtection = true
		}
	},

	-- Maintenance and Repair Items
	protection_repair_kit = {
		id = "protection_repair_kit",
		name = "üîß Protection Repair Kit",
		description = "Repair damaged protection systems and restore them to full strength.\n\nüîß Repair Features:\n‚Ä¢ Fixes all protection types\n‚Ä¢ Restores full durability\n‚Ä¢ Includes spare parts\n‚Ä¢ Emergency repairs",
		price = 50,
		currency = "coins",
		category = "defense",
		icon = "üîß",
		maxQuantity = 20,
		type = "tool",
		effects = {
			repairAll = true,
			restoreDurability = true,
			emergencyUse = true
		}
	},

	protection_upgrade_kit = {
		id = "protection_upgrade_kit", 
		name = "‚¨ÜÔ∏è Protection Upgrade Kit",
		description = "Enhance existing protection systems with improved capabilities.\n\n‚¨ÜÔ∏è Upgrade Benefits:\n‚Ä¢ +50% protection strength\n‚Ä¢ Reduced maintenance\n‚Ä¢ Enhanced features\n‚Ä¢ Permanent improvement",
		price = 100,
		currency = "coins",
		category = "defense",
		icon = "‚¨ÜÔ∏è",
		maxQuantity = 10,
		type = "upgrade",
		requiresPurchase = "protection_repair_kit",
		effects = {
			strengthBoost = 0.5,
			reducedMaintenance = true,
			enhancedFeatures = true,
			permanentUpgrade = true
		}
	},
	
	basic_feed = {
		id = "basic_feed",
		name = "üåæ Basic Chicken Feed",
		description = "Keeps chickens fed and working efficiently. Essential for chicken care.\n\nüêî Benefits:\n‚Ä¢ Feeds chickens for 6 hours\n‚Ä¢ Maintains egg production\n‚Ä¢ Keeps chickens healthy\n‚Ä¢ Basic nutrition",
		price = 10,
		currency = "coins",
		category = "defense",
		icon = "üåæ",
		maxQuantity = 100,
		type = "feed"
	},

	premium_feed = {
		id = "premium_feed",
		name = "‚≠ê Premium Chicken Feed",
		description = "High-quality feed that increases egg production and keeps chickens happy longer.\n\nüêî Premium Benefits:\n‚Ä¢ Feeds chickens for 12 hours\n‚Ä¢ +20% egg production boost\n‚Ä¢ Superior nutrition\n‚Ä¢ Happy chickens work better",
		price = 25,
		currency = "coins",
		category = "defense",
		icon = "‚≠ê",
		maxQuantity = 50,
		type = "feed",
		requiresPurchase = "basic_feed"
	},

	-- ========== MINING CATEGORY ==========
	basic_pickaxe = {
		id = "basic_pickaxe",
		name = "‚õèÔ∏è Basic Pickaxe",
		description = "Essential tool for mining. Allows access to copper and bronze ore deposits.\n\n‚õèÔ∏è Mining Power:\n‚Ä¢ Can mine copper ore\n‚Ä¢ Can mine bronze ore\n‚Ä¢ 100 durability\n‚Ä¢ Entry-level tool",
		price = 200,
		currency = "coins",
		category = "mining",
		icon = "‚õèÔ∏è",
		maxQuantity = 1,
		type = "tool"
	},

	stone_pickaxe = {
		id = "stone_pickaxe",
		name = "ü™® Stone Pickaxe",
		description = "Improved mining tool with better durability and mining power.\n\n‚õèÔ∏è Enhanced Power:\n‚Ä¢ Can mine up to silver ore\n‚Ä¢ 150 durability\n‚Ä¢ 20% faster mining\n‚Ä¢ Sturdy construction",
		price = 350,
		currency = "coins",
		category = "mining",
		icon = "ü™®",
		maxQuantity = 1,
		type = "tool",
		requiresPurchase = "basic_pickaxe"
	},

	iron_pickaxe = {
		id = "iron_pickaxe",
		name = "‚öíÔ∏è Iron Pickaxe",
		description = "Professional mining tool that can handle tougher ores.\n\n‚õèÔ∏è Professional Grade:\n‚Ä¢ Can mine up to gold ore\n‚Ä¢ 250 durability\n‚Ä¢ 50% faster mining\n‚Ä¢ Professional quality",
		price = 800,
		currency = "coins",
		category = "mining",
		icon = "‚öíÔ∏è",
		maxQuantity = 1,
		type = "tool",
		requiresPurchase = "stone_pickaxe"
	},

	diamond_pickaxe = {
		id = "diamond_pickaxe",
		name = "üíé Diamond Pickaxe",
		description = "Premium mining tool for the most valuable ores.\n\n‚õèÔ∏è Premium Power:\n‚Ä¢ Can mine up to platinum ore\n‚Ä¢ 500 durability\n‚Ä¢ 150% faster mining\n‚Ä¢ Premium quality",
		price = 2500,
		currency = "coins",
		category = "mining",
		icon = "üíé",
		maxQuantity = 1,
		type = "tool",
		requiresPurchase = "iron_pickaxe"
	},

	obsidian_pickaxe = {
		id = "obsidian_pickaxe",
		name = "‚¨õ Obsidian Pickaxe",
		description = "üèÜ LEGENDARY MINING TOOL üèÜ\nCan mine the rarest ores including mystical obsidian!\n\n‚õèÔ∏è Legendary Power:\n‚Ä¢ Can mine ALL ore types\n‚Ä¢ 1000 durability\n‚Ä¢ 250% faster mining\n‚Ä¢ Legendary quality",
		price = 200,
		currency = "farmTokens",
		category = "mining",
		icon = "‚¨õ",
		maxQuantity = 1,
		type = "tool",
		requiresPurchase = "diamond_pickaxe"
	},

	cave_access_pass = {
		id = "cave_access_pass",
		name = "üï≥Ô∏è Cave Access Pass",
		description = "Grants access to Cave 1 (Copper Mine)! Start your mining journey!\n\nüóª Access To:\n‚Ä¢ Cave 1: Copper Mine\n‚Ä¢ Copper ore deposits\n‚Ä¢ Bronze ore deposits\n‚Ä¢ Mining tutorial area",
		price = 200,
		currency = "coins",
		category = "mining",
		icon = "üï≥Ô∏è",
		maxQuantity = 1,
		type = "access"
	},

	-- ========== CRAFTING CATEGORY ==========
	basic_workbench = {
		id = "basic_workbench",
		name = "üî® Basic Workbench",
		description = "Essential crafting station for making tools and equipment.\n\nüî® Crafting Options:\n‚Ä¢ Basic tools\n‚Ä¢ Simple equipment\n‚Ä¢ Wooden items\n‚Ä¢ Entry-level recipes",
		price = 500,
		currency = "coins",
		category = "crafting",
		icon = "üî®",
		maxQuantity = 1,
		type = "building"
	},

	forge = {
		id = "forge",
		name = "üî• Advanced Forge",
		description = "Advanced metalworking station for creating powerful tools and weapons.\n\nüî• Advanced Crafting:\n‚Ä¢ Metal tools\n‚Ä¢ Advanced equipment\n‚Ä¢ Ore processing\n‚Ä¢ Professional recipes",
		price = 2000,
		currency = "coins",
		category = "crafting",
		icon = "üî•",
		maxQuantity = 1,
		type = "building",
		requiresPurchase = "basic_workbench"
	},

	mystical_altar = {
		id = "mystical_altar",
		name = "üîÆ Mystical Altar",
		description = "üèÜ LEGENDARY CRAFTING STATION üèÜ\nCraft the most powerful and mystical items in the game!\n\nüîÆ Mystical Powers:\n‚Ä¢ Legendary items\n‚Ä¢ Mystical equipment\n‚Ä¢ Magical enhancements\n‚Ä¢ Ultimate recipes",
		price = 100,
		currency = "farmTokens",
		category = "crafting",
		icon = "üîÆ",
		maxQuantity = 1,
		type = "building",
		requiresPurchase = "forge"
	},

	-- ========== PREMIUM CATEGORY ==========
	auto_harvester = {
		id = "auto_harvester",
		name = "ü§ñ Auto Harvester",
		description = "üèÜ ULTIMATE FARMING UPGRADE üèÜ\nAutomatically harvests ready crops every 30 seconds!\n\nü§ñ Automation Features:\n‚Ä¢ Harvests all ready crops\n‚Ä¢ Works 24/7\n‚Ä¢ 30-second intervals\n‚Ä¢ No manual work needed",
		price = 150,
		currency = "farmTokens",
		category = "premium",
		icon = "ü§ñ",
		maxQuantity = 1,
		type = "upgrade"
	},

	rarity_booster = {
		id = "rarity_booster",
		name = "‚ú® Rarity Booster",
		description = "üèÜ PREMIUM ENHANCEMENT üèÜ\nGuarantees at least Rare rarity for your next 3 harvests!\n\n‚ú® Rarity Benefits:\n‚Ä¢ Minimum Rare quality\n‚Ä¢ Works for 3 harvests\n‚Ä¢ Massive value increase\n‚Ä¢ Premium enhancement",
		price = 25,
		currency = "farmTokens",
		category = "premium",
		icon = "‚ú®",
		maxQuantity = 5,
		type = "enhancement"
	},

	mega_dome = {
		id = "mega_dome",
		name = "üõ°Ô∏è Mega Protection Dome",
		description = "üèÜ ULTIMATE PROTECTION üèÜ\nDome covers ALL your farm plots and blocks UFO attacks completely!\n\nüõ°Ô∏è Ultimate Defense:\n‚Ä¢ Covers all farm plots\n‚Ä¢ 100% UFO protection\n‚Ä¢ Weather protection\n‚Ä¢ Permanent protection",
		price = 100,
		currency = "farmTokens",
		category = "premium",
		icon = "üõ°Ô∏è",
		maxQuantity = 1,
		type = "protection"
	},

	-- ========== MILK EFFICIENCY UPGRADES ==========
	milk_efficiency_1 = {
		id = "milk_efficiency_1",
		name = "ü•õ Enhanced Milking I",
		description = "Improve your cow milking efficiency! Reduces cooldown and increases yield.\n\nüêÑ Benefits:\n‚Ä¢ -10 seconds cooldown\n‚Ä¢ +1 milk per collection\n‚Ä¢ Better cow happiness\n‚Ä¢ Tier 1 upgrade",
		price = 100,
		currency = "coins",
		category = "farm",
		icon = "ü•õ",
		maxQuantity = 1,
		type = "upgrade"
	},

	milk_efficiency_2 = {
		id = "milk_efficiency_2",
		name = "ü•õ Enhanced Milking II",
		description = "Further improve milking efficiency with advanced techniques.\n\nüêÑ Enhanced Benefits:\n‚Ä¢ -20 seconds total cooldown\n‚Ä¢ +3 milk per collection total\n‚Ä¢ Premium cow care\n‚Ä¢ Tier 2 upgrade",
		price = 250,
		currency = "coins",
		category = "farm",
		icon = "ü•õ",
		maxQuantity = 1,
		type = "upgrade",
		requiresPurchase = "milk_efficiency_1"
	},

	milk_efficiency_3 = {
		id = "milk_efficiency_3",
		name = "ü•õ Enhanced Milking III",
		description = "Maximum milking efficiency! Professional cow management.\n\nüêÑ Maximum Benefits:\n‚Ä¢ -30 seconds total cooldown\n‚Ä¢ +5 milk per collection total\n‚Ä¢ Expert cow care\n‚Ä¢ Tier 3 upgrade",
		price = 500,
		currency = "coins",
		category = "farm",
		icon = "ü•õ",
		maxQuantity = 1,
		type = "upgrade",
		requiresPurchase = "milk_efficiency_2"
	},

	milk_value_boost = {
		id = "milk_value_boost",
		name = "üí∞ Premium Milk Quality",
		description = "Increase the quality and value of your milk production.\n\nüí∞ Value Enhancement:\n‚Ä¢ +10 coins per milk sold\n‚Ä¢ Premium quality milk\n‚Ä¢ Better market value\n‚Ä¢ One-time upgrade",
		price = 300,
		currency = "coins",
		category = "farm",
		icon = "üí∞",
		maxQuantity = 1,
		type = "upgrade"
	},
	
	-- ========== COW SYSTEM ITEMS ==========

	-- Basic Cow (First cow purchase)
	basic_cow = {
		id = "basic_cow",
		name = "üêÑ Basic Cow",
		description = "Your first milk-producing cow! Produces 2 milk every 60 seconds.\n\nü•õ Production: 2 milk/minute\n‚è∞ Cooldown: 60 seconds\nüí∞ Sell Value: 75 coins each\nüéØ Perfect for starting your dairy empire!",
		price = 500,
		currency = "coins",
		category = "farm",
		icon = "üêÑ",
		maxQuantity = 1,
		type = "cow",
		cowData = {
			tier = "basic",
			milkAmount = 2,
			cooldown = 60,
			visualEffects = {},
			maxCows = 1
		}
	},

	-- Additional Basic Cows
	extra_basic_cow = {
		id = "extra_basic_cow",
		name = "üêÑ Additional Basic Cow",
		description = "Add more basic cows to your farm! Each cow produces independently.\n\nü•õ Production: 2 milk/minute\n‚è∞ Cooldown: 60 seconds\nüìà Stack up to 5 basic cows total",
		price = 750,
		currency = "coins",
		category = "farm",
		icon = "üêÑ",
		maxQuantity = 4,
		type = "cow",
		requiresPurchase = "basic_cow",
		cowData = {
			tier = "basic",
			milkAmount = 2,
			cooldown = 60,
			visualEffects = {},
			maxCows = 5
		}
	},

	-- Silver Cow Upgrade
	silver_cow_upgrade = {
		id = "silver_cow_upgrade",
		name = "ü•à Silver Cow Upgrade",
		description = "Upgrade a basic cow to Silver tier! Shiny metallic appearance with improved production.\n\nü•õ Production: 4 milk/minute\n‚è∞ Cooldown: 45 seconds\n‚ú® Visual: Silver metallic shine\nüîß Upgrades one existing cow",
		price = 1000,
		currency = "coins",
		category = "farm",
		icon = "ü•à",
		maxQuantity = 5,
		type = "cow_upgrade",
		requiresPurchase = "basic_cow",
		cowData = {
			tier = "silver",
			milkAmount = 4,
			cooldown = 45,
			visualEffects = {"metallic_shine", "silver_particles"},
			upgradeFrom = "basic"
		}
	},

	-- Gold Cow Upgrade  
	gold_cow_upgrade = {
		id = "gold_cow_upgrade",
		name = "ü•á Gold Cow Upgrade",
		description = "Upgrade a silver cow to Gold tier! Brilliant golden glow with premium milk production.\n\nü•õ Production: 6 milk/minute\n‚è∞ Cooldown: 30 seconds\n‚ú® Visual: Golden glow + sparkles\nüíé Premium tier upgrade",
		price = 2500,
		currency = "coins",
		category = "farm",
		icon = "ü•á",
		maxQuantity = 5,
		type = "cow_upgrade",
		requiresPurchase = "silver_cow_upgrade",
		cowData = {
			tier = "gold",
			milkAmount = 6,
			cooldown = 30,
			visualEffects = {"golden_glow", "gold_sparkles", "light_aura"},
			upgradeFrom = "silver"
		}
	},

	-- Diamond Cow Upgrade
	diamond_cow_upgrade = {
		id = "diamond_cow_upgrade", 
		name = "üíé Diamond Cow Upgrade",
		description = "Upgrade a gold cow to Diamond tier! Crystalline beauty with exceptional milk production.\n\nü•õ Production: 10 milk/minute\n‚è∞ Cooldown: 20 seconds\n‚ú® Visual: Diamond crystals + rainbow sparkles\nüèÜ Elite tier upgrade",
		price = 5000,
		currency = "coins",
		category = "farm",
		icon = "üíé",
		maxQuantity = 5,
		type = "cow_upgrade",
		requiresPurchase = "gold_cow_upgrade",
		cowData = {
			tier = "diamond",
			milkAmount = 10,
			cooldown = 20,
			visualEffects = {"diamond_crystals", "rainbow_sparkles", "prismatic_aura"},
			upgradeFrom = "gold"
		}
	},

	-- Rainbow Cow Upgrade
	rainbow_cow_upgrade = {
		id = "rainbow_cow_upgrade",
		name = "üåà Rainbow Cow Upgrade", 
		description = "üèÜ LEGENDARY UPGRADE üèÜ\nTransform a diamond cow into a magical Rainbow Cow with incredible production!\n\nü•õ Production: 15 milk/minute\n‚è∞ Cooldown: 15 seconds\n‚ú® Visual: Shifting rainbow colors + magical aura\nüéâ Legendary tier!",
		price = 50,
		currency = "farmTokens",
		category = "farm",
		icon = "üåà",
		maxQuantity = 5,
		type = "cow_upgrade",
		requiresPurchase = "diamond_cow_upgrade",
		cowData = {
			tier = "rainbow",
			milkAmount = 15,
			cooldown = 15,
			visualEffects = {"rainbow_cycle", "magical_aura", "color_trails", "star_particles"},
			upgradeFrom = "diamond"
		}
	},

	-- Cosmic Cow Upgrade (Ultimate)
	cosmic_cow_upgrade = {
		id = "cosmic_cow_upgrade",
		name = "üåå Cosmic Cow Upgrade",
		description = "üèÜ ULTIMATE UPGRADE üèÜ\nThe pinnacle of cow evolution! Cosmic powers with maximum milk production.\n\nü•õ Production: 25 milk/minute\n‚è∞ Cooldown: 10 seconds\n‚ú® Visual: Galaxy effects + cosmic energy\nüëë Ultimate tier - Maximum power!",
		price = 150,
		currency = "farmTokens", 
		category = "premium",
		icon = "üåå",
		maxQuantity = 3,
		type = "cow_upgrade",
		requiresPurchase = "rainbow_cow_upgrade",
		cowData = {
			tier = "cosmic",
			milkAmount = 25,
			cooldown = 10,
			visualEffects = {"galaxy_swirl", "cosmic_energy", "star_field", "nebula_clouds", "space_distortion"},
			upgradeFrom = "rainbow"
		}
	},

	-- Cow Management Tools
	cow_relocator = {
		id = "cow_relocator",
		name = "üöú Cow Relocator",
		description = "Move your cows to better positions on your farm! Organize your dairy operation efficiently.\n\nüîß Features:\n‚Ä¢ Move any cow to new location\n‚Ä¢ Reorganize farm layout\n‚Ä¢ One-time use per cow\n‚Ä¢ Works on all cow tiers",
		price = 100,
		currency = "coins",
		category = "farm",
		icon = "üöú",
		maxQuantity = 20,
		type = "tool"
	},

	cow_feed_premium = {
		id = "cow_feed_premium",
		name = "üåæ Premium Cow Feed",
		description = "High-quality feed that temporarily boosts milk production! Feed your cows for maximum efficiency.\n\nüöÄ Benefits:\n‚Ä¢ +50% milk production for 30 minutes\n‚Ä¢ Works on all cow tiers\n‚Ä¢ Stackable effect\n‚Ä¢ One-time use",
		price = 50,
		currency = "coins",
		category = "farm",
		icon = "üåæ",
		maxQuantity = 50,
		type = "enhancement"
	},

	auto_milker = {
		id = "auto_milker",
		name = "ü§ñ Auto Milker",
		description = "üèÜ PREMIUM AUTOMATION üèÜ\nAutomatically collects milk from ALL your cows every 30 seconds!\n\nü§ñ Automation Features:\n‚Ä¢ Collects from all cows automatically\n‚Ä¢ Works 24/7\n‚Ä¢ No manual clicking needed\n‚Ä¢ Ultimate convenience upgrade",
		price = 200,
		currency = "farmTokens",
		category = "premium", 
		icon = "ü§ñ",
		maxQuantity = 1,
		type = "automation"
	},

	-- Cow Capacity Upgrades
	pasture_expansion_1 = {
		id = "pasture_expansion_1",
		name = "üåø Pasture Expansion I",
		description = "Expand your pasture to hold more cows! Increases maximum cow capacity.\n\nüìà Capacity: +2 cow slots\nüåø Unlocks better grazing areas\nüèóÔ∏è Permanent upgrade\nüìä Total capacity: 7 cows",
		price = 2000,
		currency = "coins",
		category = "farm",
		icon = "üåø",
		maxQuantity = 1,
		type = "upgrade",
		effects = {
			maxCowIncrease = 2
		}
	},

	pasture_expansion_2 = {
		id = "pasture_expansion_2", 
		name = "üåø Pasture Expansion II",
		description = "Further expand your dairy operation! Even more space for your growing herd.\n\nüìà Capacity: +3 cow slots\nüåø Premium grazing areas\nüèóÔ∏è Permanent upgrade\nüìä Total capacity: 10 cows",
		price = 5000,
		currency = "coins",
		category = "farm",
		icon = "üåø",
		maxQuantity = 1,
		type = "upgrade",
		requiresPurchase = "pasture_expansion_1",
		effects = {
			maxCowIncrease = 3
		}
	},

	mega_pasture = {
		id = "mega_pasture",
		name = "üèÜ Mega Pasture",
		description = "üèÜ ULTIMATE EXPANSION üèÜ\nThe largest possible dairy operation! Maximum cow capacity for serious farmers.\n\nüìà Capacity: +5 cow slots\nüåø Luxury grazing areas\nüèóÔ∏è Permanent upgrade\nüìä Total capacity: 15 cows",
		price = 100,
		currency = "farmTokens",
		category = "premium",
		icon = "üèÜ", 
		maxQuantity = 1,
		type = "upgrade",
		requiresPurchase = "pasture_expansion_2",
		effects = {
			maxCowIncrease = 5
		}
	}
}


-- ========== RARITY FUNCTIONS ==========

function ItemConfig.GetCropRarity(seedId, playerBoosters)
	playerBoosters = playerBoosters or {}

	local seedData = ItemConfig.ShopItems[seedId]
	if not seedData or not seedData.farmingData or not seedData.farmingData.rarityChances then
		return "common"
	end

	local chances = seedData.farmingData.rarityChances
	local roll = math.random()

	-- Apply rarity booster if active
	if playerBoosters.rarity_booster then
		return "rare" -- Guaranteed rare or better
	end

	-- Check for always high rarity seeds
	if seedData.farmingData.alwaysHighRarity then
		if roll < chances.legendary then return "legendary"
		elseif roll < chances.legendary + chances.epic then return "epic"
		elseif roll < chances.legendary + chances.epic + chances.rare then return "rare"
		else return "rare" -- Minimum rare for special seeds
		end
	end

	-- Normal rarity roll
	if roll < chances.legendary then return "legendary"
	elseif roll < chances.legendary + chances.epic then return "epic"
	elseif roll < chances.legendary + chances.epic + chances.rare then return "rare"
	elseif roll < chances.legendary + chances.epic + chances.rare + chances.uncommon then return "uncommon"
	else return "common"
	end
end

function ItemConfig.ApplyRarityToValue(baseValue, rarity)
	local rarityData = ItemConfig.RaritySystem[rarity]
	if rarityData then
		return math.floor(baseValue * rarityData.valueMultiplier)
	end
	return baseValue
end

function ItemConfig.GetRarityColor(rarity)
	local rarityData = ItemConfig.RaritySystem[rarity]
	return rarityData and rarityData.color or Color3.fromRGB(255, 255, 255)
end

function ItemConfig.GetRaritySize(rarity)
	local rarityData = ItemConfig.RaritySystem[rarity]
	return rarityData and rarityData.sizeMultiplier or 1.0
end

-- ========== CROP AND SEED MAPPING ==========

function ItemConfig.GetSeedData(seedId)
	local seed = ItemConfig.ShopItems[seedId]
	if seed and seed.type == "seed" and seed.farmingData then
		return seed.farmingData
	end
	return nil
end

function ItemConfig.GetCropData(cropId)
	return ItemConfig.Crops[cropId]
end

function ItemConfig.GetSeedForCrop(cropId)
	-- Find the seed that produces this crop
	for seedId, seedData in pairs(ItemConfig.ShopItems) do
		if seedData.type == "seed" and seedData.farmingData and seedData.farmingData.resultCropId == cropId then
			return seedId
		end
	end
	return nil
end

-- ========== MINING SYSTEM HELPERS ==========

function ItemConfig.GetOreData(oreId)
	return ItemConfig.MiningSystem.ores[oreId]
end

function ItemConfig.GetToolData(toolId)
	return ItemConfig.MiningSystem.tools[toolId]
end

function ItemConfig.CanToolMineOre(toolId, oreId)
	local toolData = ItemConfig.MiningSystem.tools[toolId]
	if not toolData or not toolData.canMine then
		return false
	end

	for _, mineable in ipairs(toolData.canMine) do
		if mineable == oreId then
			return true
		end
	end
	return false
end

-- ========== VALIDATION ==========

function ItemConfig.ValidateShopItem(itemId)
	local item = ItemConfig.ShopItems[itemId]
	if not item then return false, "Item not found" end

	local required = {"name", "price", "currency", "category", "description", "icon"}
	for _, prop in ipairs(required) do
		if not item[prop] then
			return false, "Missing property: " .. prop
		end
	end

	return true, "Valid item"
end

-- ========== UTILITY ==========

function ItemConfig.GetAllShopItems()
	return ItemConfig.ShopItems
end

function ItemConfig.GetItemsByCategory(category)
	local items = {}
	for itemId, item in pairs(ItemConfig.ShopItems) do
		if item.category == category then
			items[itemId] = item
		end
	end
	return items
end

function ItemConfig.CountItemsByCategory()
	local counts = {}
	for itemId, item in pairs(ItemConfig.ShopItems) do
		local category = item.category or "unknown"
		counts[category] = (counts[category] or 0) + 1
	end
	return counts
end

function ItemConfig.CountOresByCategory()
	local count = 0
	for _ in pairs(ItemConfig.MiningSystem.ores) do
		count = count + 1
	end
	return count
end

function ItemConfig.CountToolsByCategory()
	local count = 0
	for _ in pairs(ItemConfig.MiningSystem.tools) do
		count = count + 1
	end
	return count
end

print("‚úÖ FIXED ItemConfig loaded with MINING SYSTEM DATA!")
print("üì¶ Total shop items: " .. (function() local count = 0; for _ in pairs(ItemConfig.ShopItems) do count = count + 1 end return count end)())
print("‚õèÔ∏è Mining ores: " .. ItemConfig.CountOresByCategory())
print("üî® Mining tools: " .. ItemConfig.CountToolsByCategory())
print("üéØ Categories:")
local counts = ItemConfig.CountItemsByCategory()
for category, count in pairs(counts) do
	print("  " .. category .. ": " .. count .. " items")
end
print("üåü Rarity system: ACTIVE with 5 tiers")
print("üå± Seed-to-crop mapping: COMPLETE")
print("‚õèÔ∏è Mining system data: COMPLETE")

return ItemConfig